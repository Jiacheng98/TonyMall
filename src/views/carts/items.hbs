<div id="all-form">
    {{#if alert}}
        <div class="alert alert-danger">
            {{alert}}
        </div>
    {{/if}}

    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="row">
                    <div id="carouselExampleIndicators" class="carousel slide my-4" data-ride="carousel">
                        <ol class="carousel-indicators">
                            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                        </ol>
                        <div id="items-page-carousel-inner" class="carousel-inner" role="listbox">
                            <div class="carousel-item active">
                                <a href="/products/detail/1">
                                    <img class="d-block img-fluid" src="/images/1.png" alt="First slide"></a>
                            </div>
                            <div class="carousel-item">
                                <a href="/products/detail/4">
                                    <img class="d-block img-fluid" src="/images/2.jpg" alt="First slide"></a>
                            </div>
                            <div class="carousel-item">
                                <a href="/products/detail/5">
                                    <img class="d-block img-fluid" src="/images/3.png" alt="First slide"></a>
                            </div>
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button"
                           data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button"
                           data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                    {{#if data}}
                        {{#each data}}
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div id="cardBox" class="card h-100">
                            <a href='/products/detail/{{this.sp_id}}'>
                                <img class="card-img-top" src={{this.image}}></a>
                            <div class="card-body">
                                <h4 class="card-title">
                                    <a href='/products/detail/{{this.sp_id}}'>{{this.brand}} {{this.name}}</a>
                                </h4>
                                <h5>$ {{this.currentPrice}}</h5>
                            </div>
                            <div class="card-footer">
                                <div class="star-rating">
                                    <div class="back-stars">
                                        <a id="items-page-everyRate" class="fa fa-star" aria-hidden="true"></a>
                                        <a id="items-page-everyRate" class="fa fa-star" aria-hidden="true"></a>
                                        <a id="items-page-everyRate" class="fa fa-star" aria-hidden="true"></a>
                                        <a id="items-page-everyRate" class="fa fa-star" aria-hidden="true"></a>
                                        <a id="items-page-everyRate" class="fa fa-star" aria-hidden="true"></a>

                                        <div class="front-stars" style="width: {{this.starRatingInPercent}}%">
                                            <a id="items-page-everyRate" class="fa fa-star" aria-hidden="true"></a>
                                            <a id="items-page-everyRate" class="fa fa-star" aria-hidden="true"></a>
                                            <a id="items-page-everyRate" class="fa fa-star" aria-hidden="true"></a>
                                            <a id="items-page-everyRate" class="fa fa-star" aria-hidden="true"></a>
                                            <a id="items-page-everyRate" class="fa fa-star" aria-hidden="true"></a>

                                        </div>
                                    </div>
                                    <small class="text-muted">{{this.starRating}}</small>
                                </div>
                            </div>
                        </div>
                    </div>
                {{/each}}
                    {{/if}}
                </div>

            </div>
        </div>

        {{# if data}}
            <div id="searchBar">
                <nav class="my-4">
                    <ul class="pagination justify-content-center">
                        {{# if (prep_pageNo current_page)}}
                            <li class="page-item">
                                {{#if keyword}}
                                    <a id="prep" class="page-link" href="/products?search={{search}}&keyword={{keyword}}&page={{prep_page}}">Previous</a>
                                {{else}}
                                    <a id="prep" class="page-link" href="/products?page={{prep_page}}">Previous</a>
                                {{/if}}
                            </li>
                            <li class="page-item">
                                {{#if keyword}}
                                    <a class="page-link" href="/products?search={{search}}&keyword={{keyword}}&page={{prep_page}}">{{prep_page}}</a>
                                {{else}}
                                    <a class="page-link" href="/products?page={{prep_page}}">{{prep_page}}</a>
                                {{/if}}
                            </li>
                        {{else}}
                            <li class="page-item disabled">
                                {{#if keyword}}
                                    <a id="prep" class="page-link" href="/products?search={{search}}&keyword={{keyword}}&page={{prep_page}}">Previous</a>
                                {{else}}
                                    <a id="prep" class="page-link" href="/products?page={{prep_page}}">Previous</a>
                                {{/if}}

                            </li>
                        {{/if}}

                        <li id="page-item-active" class="page-item active">
                            <a class="page-link">{{current_page}} <span class="sr-only">(current)</span></a>
                        </li>

                        {{# if (next_pageNo current_page maxPage)}}
                            <li class="page-item">
                                {{#if keyword}}
                                    <a class="page-link" href="/products?search={{search}}&keyword={{keyword}}&page={{next_page}}">{{next_page}}</a>
                                {{else}}
                                    <a class="page-link" href="/products?page={{next_page}}">{{next_page}}</a>
                                {{/if}}
                            </li>
                            <li class="page-item">
                                {{#if keyword}}
                                    <a id="next" class="page-link" href="/products?search={{search}}&keyword={{keyword}}&page={{next_page}}">Next</a>
                                {{else}}
                                    <a id="next" class="page-link" href="/products?page={{next_page}}">Next</a>
                                {{/if}}

                            </li>
                        {{else}}
                            <li class="page-item disabled">
                                {{#if keyword}}
                                    <a id="next" class="page-link" href="/products?search={{search}}&keyword={{keyword}}&page={{next_page}}">Next</a>
                                {{else}}
                                    <a id="next" class="page-link" href="/products?page={{next_page}}">Next</a>
                                {{/if}}

                            </li>
                        {{/if}}
                    </ul>
                </nav>

                <div id="items-page-jump" class="input-group">
                    <input type="text" class="form-control" id="page">
                    <div class="input-group-append">
                        {{#if keyword}}
                            <button class="btn btn-outline-info" type="button"
                                    onclick="jumpToPageWithSearch({{current_page}}, {{maxPage}}, `{{search}}`, `{{keyword}}`, $('#page').val() )">Jump
                            </button>
                        {{else}}
                            <button class="btn btn-outline-info" type="button"
                                    onclick="jumpToPage({{current_page}}, {{maxPage}}, $('#page').val())">Jump
                            </button>
                        {{/if}}
                    </div>
                </div>
            </div>
        {{else}}
            <h1 id="no-item">Not Found</h1>
        {{/if}}

    </div>
</div>
<div id="page-space"></div>


